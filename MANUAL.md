# Arena Manager 使用说明

## 简介
Arena Manager 是一个用于管理 arena.ai 网站模型显示的 Tampermonkey 脚本。它提供模型的显示/隐藏控制、自定义排序、分组管理等功能。

## 安装
1. 安装 Tampermonkey 浏览器扩展
2. 安装 Arena Manager 脚本
3. 访问 arena.ai，点击右侧中央的 🎛️ 按钮打开管理面板

## 界面结构

### 悬浮按钮
- 位置：页面右侧中央（可拖动）
- 点击打开管理面板
- 红点提示：有新发现的模型
- 快捷键：`Ctrl+Shift+M`

### 管理面板

#### 顶栏
| 按钮 | 功能 |
|------|------|
| 🔍 开始扫描 | 开始扫描会话，依次打开各模式下拉框扫描模型 |
| 📤 导出 | 导出所有数据为 JSON 文件 |
| 📥 导入 | 导入 JSON 数据文件 |
| ✨ 清除标记 | 清除所有"新发现"标记 |
| 📁 分组 | 打开分组管理 |
| ⚙️ 设置 | 打开设置面板 |

#### 上栏（模式切换）
- **全部/Text/Search/Image/Code/Video**：按 Arena 模式筛选
- **已启用/已隐藏**：按可见状态筛选
- **收藏/新发现**：按特殊标记筛选
- **自建分组**：显示在最右侧

#### 搜索栏
- **搜索框**：支持空格分隔多关键词（AND逻辑），支持 `/正则表达式/` 语法
- **组织下拉**：按组织筛选
- **排序下拉**：选择排序方式
- **视图切换**：网格 ⊞ / 紧凑 ⊟ / 列表 ☰

#### 左侧栏
- **按组织**：点击筛选，点击"排序"可拖拽调整组织顺序。排序模式下可将组织拖过分界线，改变其所属层级（主要/更多）
- **按类型**（仅 Image 模式）：综合/仅文生图/仅图生图
- **特性**：Vision（视觉）、PDF Upload（PDF 上传）功能筛选

#### 主体区域
- **模型卡片**：显示模型信息
  - 单击：切换显示/隐藏状态
  - 双击：打开模型详情
  - ☆/⭐：切换收藏
  - 📋：打开模型详情
- **多选模式**：批量操作模型

#### 底栏
显示当前筛选范围内的统计：显示数/隐藏数/总计

## 核心功能

### 模型管理
1. **显示/隐藏**：单击卡片切换，隐藏的模型不会在 Arena 下拉框中显示
2. **收藏**：收藏的模型在下拉框中优先显示
3. **排序**：在"已启用"模式下，点击"排序"按钮可拖拽调整模型顺序

### 模型详情
双击卡片或点击 📋 打开，可查看/编辑：
- 模型名称（只读）
- 可见状态及排序位置
- 所属组织（可编辑，手动修改后显示重置按钮）
- 图标（内置组织显示官方 Logo，不可编辑；手动匹配的组织可编辑单个字符/emoji）
- 所属模式（只读）
- 收藏状态（可切换）
- 视觉特性（只读）
- PDF 上传特性（只读）
- 所属分组（可编辑）
- 备注（可编辑，会显示在卡片上）

### 分组管理
点击顶栏"📁 分组"打开：
- 创建/重命名/删除分组
- 📤 按钮：导出单个分组（仅包含该分组的模型数据）
- 在模型详情或多选模式下可将模型添加到分组

### 扫描功能
1. 点击"开始扫描"
2. 依次打开 Arena 各模式（Text/Search/Image/Code/Video）的模型下拉框
3. 点击"结束扫描"查看结果
4. 可删除未扫描到的模型（已下架的模型）

## 设置

### 基础设置
- **语言**：支持简体中文、繁体中文、English、日本語、한국어、Español、Français、Deutsch、Русский
- **新模型提示**：发现新模型时显示通知
- **锁定按钮位置**：禁止拖动悬浮按钮

### 云同步（GitHub Gist）
1. 在 GitHub 创建 Personal Access Token（需要 gist 权限）
2. 填入 Token，点击"上传"创建 Gist
3. Gist ID 会自动保存
4. 之后可随时上传/下载同步

### 自动云同步
- **变更时同步**：每次数据变更后自动上传
- **定时同步**：每隔指定分钟数自动上传（1-60分钟）

### 推荐模型配置
作者维护了一份推荐的模型配置，你可以一键导入。

1. 在设置面板找到「推荐模型配置」区域
2. 点击「检查更新」查看最新版本日期
3. 点击「使用推荐配置」下载并查看差异
4. 在差异对话框中勾选要应用的类别：
   - **可见性变更**：哪些模型被显示/隐藏
   - **排序变更**：各模式下的模型和组织排序
   - **收藏变更**：收藏标记的增减
   - **模型信息变更**：备注、图标、组织的修改
   - **分组变更**：新增或修改的分组
5. 点击「应用选中」完成合并

> 💡 推荐配置不会影响你的个人设置（语言、Token、按钮位置等），也不会删除你本地有而推荐配置中没有的模型。

### 数据重置
清除所有设置和模型数据，恢复初始状态。

## 快捷键
| 快捷键 | 功能 |
|--------|------|
| `Ctrl+Shift+M` | 打开/关闭管理面板 |
| `/` | 聚焦搜索框（面板打开时） |
| `Esc` | 关闭当前弹窗或面板 |

## 数据存储
- 所有数据存储在浏览器本地（Tampermonkey）
- 导出的 JSON 文件不包含 GitHub Token
- 云同步上传的数据也不包含 Token

## 常见问题

**Q: 为什么有些模型显示"Other"组织？**
A: 脚本无法识别该模型的组织，可在模型详情中手动设置。如果你发现了这种情况，欢迎在Github提出Issue或在Greasyfork提交反馈。感激不尽。

**Q: 排序没有生效？**
A: 点击面板底部的"应用"按钮，或刷新页面。

**Q: 如何备份数据？**
A: 使用"导出"功能保存 JSON 文件，或配置云同步。

**Q: 推荐配置的日期没有更新？**
A: 点击「检查更新」获取最新日期。如果刚更新，可能需要等待几秒后重试。

**Q: 组织 Logo 没有显示，还是 emoji？**
A: Logo 首次需要从 GitHub 加载，请确保网络能够访问 GitHub。加载成功后会自动缓存，之后不再需要网络。如果始终无法加载，会使用 emoji 作为回退。
